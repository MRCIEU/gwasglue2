<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="gwasglue2">
<title>Strategy • gwasglue2</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Strategy">
<meta property="og:description" content="gwasglue2">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">gwasglue2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Strategy.html">Strategy</a>
    <a class="dropdown-item" href="../articles/Tutorial.html">Tutorial</a>
    <a class="dropdown-item" href="../articles/Tutorial2.html">Tutorial2</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/MRCIEU/gwasglue2/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="Strategy_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Strategy</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/MRCIEU/gwasglue2/blob/HEAD/vignettes/Strategy.Rmd" class="external-link"><code>vignettes/Strategy.Rmd</code></a></small>
      <div class="d-none name"><code>Strategy.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/MRCIEU/gwasglue2" class="external-link">gwasglue2</a></span><span class="op">)</span></span></code></pre></div>
<p>The gwasglue2 package sits between the data and the analytical methods within the OpenGWAS ecosystem</p>
<div class="figure">
<img src="https://gwas.mrcieu.ac.uk/static/images/gwas_ecosystem.bb869525db1a.png" alt=""><p class="caption">gwas ecosystem</p>
</div>
<div class="section level2">
<h2 id="objectives">Objectives<a class="anchor" aria-label="anchor" href="#objectives"></a>
</h2>
<ul>
<li>Represent GWAS summary data from multiple sources in various different shapes for different tools</li>
<li>Represent a class structure that other packages can call</li>
<li>Have very few dependencies</li>
<li>Ensure harmonisation of data across different sources</li>
<li>Be able to simulate data for ease of analytical prototyping</li>
<li>Store relevant meta data</li>
<li>Have methods for visualising, joining and subsetting datasets</li>
<li>Create examples of analytical tools creating methods that import the gwasglue2 package.</li>
</ul>
<p>Here are some example ‘structures’ of summary datasets that it should be able to handle</p>
</div>
<div class="section level2">
<h2 id="data-structures">Data structures<a class="anchor" aria-label="anchor" href="#data-structures"></a>
</h2>
<div class="figure">
<img src="data_structures.png" alt=""><p class="caption">Data structures</p>
</div>
<p>Note that the whole OpenGWAS database is an example of a ‘complete’ dataset - all traits and all variants. What we typically want to represent in gwasglue2 is a specific slice of that data, that is almost always going to be a rectangular shape - a set of variants across a set of traits. In addition, we need to be able to be able to flexibly associate metadata or other forms of annotations (LD matrices, genomic annotations etc) to the data. Finally, analytical tools need to be aware of these structures in order to easily deploy methods upon them.</p>
</div>
<div class="section level2">
<h2 id="work-flow">Work flow<a class="anchor" aria-label="anchor" href="#work-flow"></a>
</h2>
<p>This is typically how a workflow might look:</p>
<div class="figure">
<img src="flow.png" alt=""><p class="caption">Work flow</p>
</div>
<p>We should be able to ingest data from various locations, and then the class provides a number of different ways to manipulate and annotate the data.</p>
</div>
<div class="section level2">
<h2 id="strategy">Strategy<a class="anchor" aria-label="anchor" href="#strategy"></a>
</h2>
<p>A set of genetic associations (1 or more) for a single trait is known as a <code>SummarySet</code>. This class should contain the data, plus <code>MetaData</code> that describes the source study, plus a list of <code>Concept</code>s that annotate the Summary data.</p>
<p>A <code>Concept</code> is a named list of extra information that can be linked to the data, for example LD matrices, annotations relating to how to use the data in a model (e.g. exposure or outcome), etc.</p>
<p>A <code>Dataset</code> is a set of merged and harmonised <code>SummarySet</code>s, for example if two SummarySets are generated using the same set of variants for two traits, then putting them together into a <code>Dataset</code> will find the intersect of the available variants, and harmonise them to be on the same effect allele. <code>Dataset</code> objects can also have a global <code>Concept</code> list for extra data that is common across all the <code>SummarySet</code>s stored in the object.</p>
<p>Initial visualisation below:</p>
<div class="figure">
<img src="s4_structure.png" alt=""><p class="caption">Class structures</p>
</div>
</div>
<div class="section level2">
<h2 id="implementation">Implementation<a class="anchor" aria-label="anchor" href="#implementation"></a>
</h2>
<p>Currently planning to implement as an S4 class, but may move into R7 in the future once it is stable and compatible with roxygen etc.</p>
</div>
<div class="section level2">
<h2 id="controlled-fields">Controlled fields<a class="anchor" aria-label="anchor" href="#controlled-fields"></a>
</h2>
<p>Association data within a <code>SummarySet</code> should have the following fields -</p>
<ul>
<li>Required:
<ul>
<li>chromosome</li>
<li>position</li>
<li>effect allele (ALT)</li>
<li>non-effect allele (REF)</li>
<li>effect size</li>
<li>standard error</li>
<li>p-value</li>
</ul>
</li>
<li>Optional:
<ul>
<li>effect allele frequency</li>
<li>rsid</li>
<li>imputation info score</li>
<li>sample size</li>
<li>number of cases</li>
<li>number of controls</li>
</ul>
</li>
</ul>
<p>Metadata fields -</p>
<ul>
<li>Required
<ul>
<li>genome build</li>
<li>units of effect size</li>
<li>number of cases</li>
<li>number of controls</li>
<li>trait name</li>
<li>trait identifier</li>
<li>ancestral population of sample</li>
<li>sex of sample</li>
<li>study DOI</li>
<li>number of variants</li>
</ul>
</li>
<li>Optional
<ul>
<li>Ontology term</li>
<li>standard deviation of trait</li>
<li>mean of trait</li>
<li>genotyping method</li>
<li>analysis method</li>
<li>covariates</li>
<li>notes</li>
</ul>
</li>
</ul>
<p>Accession info should be generated upon creation:</p>
<ul>
<li>Data source</li>
<li>Timestamp of access</li>
<li>Query</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Gibran Hemani, Rita Rasteiro, Christopher Woods.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
